<h2>Mantenimiento de clientes</h2>

<div class="client-form">
  <form [formGroup]="clientForm" (ngSubmit)="onFormSubmit()">
    <div class="row mb-3">
      <label for="inputDNI" class="col-sm-2 col-form-label">Cédula</label>
      <div class="col-sm-10">
        <input
          type="text"
          class="form-control"
          id="inputDNI"
          formControlName="clientNumber"
        />
      </div>
    </div>
    <div class="row mb-3">
      <label for="inputFirstName" class="col-sm-2 col-form-label">Nombre</label>
      <div class="col-sm-10">
        <input
          type="text"
          class="form-control"
          id="inputFirstName"
          formControlName="clientName"
        />
      </div>
    </div>
    <div class="row mb-3">
      <label for="inputLastName" class="col-sm-2 col-form-label"
        >Apellido</label
      >
      <div class="col-sm-10">
        <input
          type="text"
          class="form-control"
          id="inputLastName"
          formControlName="clientSurname"
        />
      </div>
    </div>
    <div class="row mb-3">
      <label for="inputTel" class="col-sm-2 col-form-label">Teléfono</label>
      <div class="col-sm-10">
        <input
          type="tel"
          class="form-control"
          id="inputTel"
          formControlName="clientPhone"
        />
      </div>
    </div>

    <button
      type="reset"
      class="btn btn-secondary btn-margin-bot"
      (click)="resetForm()"
    >
      Reset
    </button>

    <button
      type="submit"
      class="btn btn-primary btn-margin-bot btn-margin-left"
      [disabled]="!clientForm.valid"
    >
      Guardar
    </button>

    <br />

    <span>
      <p *ngIf="dataSaved">
        {{ message }}
      </p></span
    >

    <div class="table-result">
      <table class="table table-striped table-hover table-bordered">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Cédula</th>
            <th scope="col">Nombre</th>
            <th scope="col">Apellido</th>
            <th scope="col">Teléfono</th>
            <th scope="col">Editar</th>
            <th scope="col">Eliminar</th>
          </tr>
        </thead>
        <tbody>
          <tr></tr>
          <tr *ngFor="let client of allClients | async">
            <td>{{ client.clientId }}</td>
            <td>{{ client.clientNumber }}</td>
            <td>{{ client.clientName }}</td>
            <td>{{ client.clientSurname }}</td>
            <td>{{ client.clientPhone }}</td>
            <td>
              <a
                (click)="loadClientToEdit(client.clientId)"
                class="btn btn-warning"
              >
                <i class="fas fa-edit"></i>
              </a>
            </td>
            <td>
              <a (click)="deleteClient(client.clientId)" class="btn btn-danger">
                <i class="fas fa-trash-alt"></i>
              </a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </form>
</div>
